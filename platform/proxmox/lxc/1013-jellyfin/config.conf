arch: amd64
cores: 6
features: nesting=1
hostname: jellyfin
memory: 8192
net0: name=eth0,bridge=vmbr0,gw=192.168.0.1,hwaddr=BC:24:11:0C:61:89,ip=192.168.0.13/24,ip6=auto,type=veth
onboot: 1
ostype: ubuntu
parent: Backup_12_18_2025
rootfs: local-lvm:vm-1013-disk-0,size=64G
startup: order=3,up=20
swap: 512
tags: community-script;media
lxc.cgroup2.devices.allow: a
lxc.cap.drop: 
lxc.cgroup2.devices.allow: c 188:* rwm
lxc.cgroup2.devices.allow: c 189:* rwm
lxc.mount.entry: /dev/serial/by-id  dev/serial/by-id  none bind,optional,create=dir
lxc.mount.entry: /dev/ttyUSB0       dev/ttyUSB0       none bind,optional,create=file
lxc.mount.entry: /dev/ttyUSB1       dev/ttyUSB1       none bind,optional,create=file
lxc.mount.entry: /dev/ttyACM0       dev/ttyACM0       none bind,optional,create=file
lxc.mount.entry: /dev/ttyACM1       dev/ttyACM1       none bind,optional,create=file
lxc.cgroup2.devices.allow: c 226:128 rwm
lxc.cgroup2.devices.allow: c 226:0 rwm
lxc.cgroup2.devices.allow: c 29:0 rwm
lxc.mount.entry: /dev/fb0 dev/fb0 none bind,optional,create=file
lxc.mount.entry: /dev/dri dev/dri none bind,optional,create=dir
lxc.mount.entry: /mnt/lxc-share/data mnt/data none bind 0 0
lxc.cgroup2.devices.allow: c 226:0 rwm
lxc.cgroup2.devices.allow: c 226:128 rwm
lxc.mount.entry: /dev/dri/renderD128 dev/dri/renderD128 none bind,optional,create=file

[Backup_12_18_2025]
arch: amd64
cores: 6
features: nesting=1
hostname: jellyfin
memory: 8192
net0: name=eth0,bridge=vmbr0,gw=192.168.0.1,hwaddr=BC:24:11:0C:61:89,ip=192.168.0.13/24,ip6=auto,type=veth
onboot: 1
ostype: ubuntu
parent: gpu-mounted
rootfs: local-lvm:vm-1013-disk-0,size=64G
snaptime: 1766088488
startup: order=3,up=20
swap: 512
tags: community-script;media
lxc.cgroup2.devices.allow: a
lxc.cap.drop: 
lxc.cgroup2.devices.allow: c 188:* rwm
lxc.cgroup2.devices.allow: c 189:* rwm
lxc.mount.entry: /dev/serial/by-id  dev/serial/by-id  none bind,optional,create=dir
lxc.mount.entry: /dev/ttyUSB0       dev/ttyUSB0       none bind,optional,create=file
lxc.mount.entry: /dev/ttyUSB1       dev/ttyUSB1       none bind,optional,create=file
lxc.mount.entry: /dev/ttyACM0       dev/ttyACM0       none bind,optional,create=file
lxc.mount.entry: /dev/ttyACM1       dev/ttyACM1       none bind,optional,create=file
lxc.cgroup2.devices.allow: c 226:128 rwm
lxc.mount.entry: /dev/dri/renderD128 dev/dri/renderD128 none bind,optional,create=file
lxc.cgroup2.devices.allow: c 226:0 rwm
lxc.mount.entry: /dev/dri/card0 dev/dri/card0 none bind,optional,create=file
lxc.cgroup2.devices.allow: c 29:0 rwm
lxc.mount.entry: /dev/fb0 dev/fb0 none bind,optional,create=file
lxc.mount.entry: /dev/dri dev/dri none bind,optional,create=dir
lxc.mount.entry: /mnt/lxc-share/data mnt/data none bind 0 0

[gpu-mounted]
arch: amd64
cores: 6
features: nesting=1
hostname: jellyfin
memory: 8192
net0: name=eth0,bridge=vmbr0,gw=192.168.0.1,hwaddr=BC:24:11:0C:61:89,ip=192.168.0.13/24,ip6=auto,type=veth
onboot: 1
ostype: ubuntu
parent: post-install
rootfs: local-lvm:vm-1013-disk-0,size=64G
snaptime: 1753919657
swap: 512
tags: community-script;media
lxc.cgroup2.devices.allow: a
lxc.cap.drop: 
lxc.cgroup2.devices.allow: c 188:* rwm
lxc.cgroup2.devices.allow: c 189:* rwm
lxc.mount.entry: /dev/serial/by-id  dev/serial/by-id  none bind,optional,create=dir
lxc.mount.entry: /dev/ttyUSB0       dev/ttyUSB0       none bind,optional,create=file
lxc.mount.entry: /dev/ttyUSB1       dev/ttyUSB1       none bind,optional,create=file
lxc.mount.entry: /dev/ttyACM0       dev/ttyACM0       none bind,optional,create=file
lxc.mount.entry: /dev/ttyACM1       dev/ttyACM1       none bind,optional,create=file
lxc.cgroup2.devices.allow: c 226:128 rwm
lxc.mount.entry: /dev/dri/renderD128 dev/dri/renderD128 none bind,optional,create=file
lxc.cgroup2.devices.allow: c 226:0 rwm
lxc.mount.entry: /dev/dri/card0 dev/dri/card0 none bind,optional,create=file
lxc.cgroup2.devices.allow: c 29:0 rwm
lxc.mount.entry: /dev/fb0 dev/fb0 none bind,optional,create=file
lxc.mount.entry: /dev/dri dev/dri none bind,optional,create=dir
lxc.mount.entry: /mnt/lxc-share/data mnt/data none bind 0 0

[post-install]
#lxc.cgroup2.devices.allow%3A c 235%3A* rwm
# Required/typical
# Allow NVIDIA character devices
# --- NVIDIA passthrough for Jellyfin (GTX 1070) ---
# Allow NVIDIA character devices
# Bind NVIDIA device nodes
# Bind NVIDIA caps directory (present on your host)
# Bind host NVIDIA userspace libraries (keeps versions in sync)
# --- NVIDIA passthrough for Jellyfin CT 1013 ---
# Allow NVIDIA character devices (your host uses 195, 235, 239)
# Bind NVIDIA device nodes (dest must be relative%3A dev/..., not /dev/...)
# Bind host NVIDIA userspace libraries (dest must be relative%3A usr/lib/..., not /usr/lib/...)
# If AppArmor blocks devices, uncomment this%3A
# lxc.apparmor.profile%3A unconfined
arch: amd64
cores: 6
features: nesting=1
hostname: jellyfin
memory: 8192
net0: name=eth0,bridge=vmbr0,gw=192.168.0.1,hwaddr=BC:24:11:0C:61:89,ip=192.168.0.13/24,ip6=auto,type=veth
onboot: 1
ostype: ubuntu
rootfs: local-lvm:vm-1013-disk-0,size=64G
snaptime: 1753897085
swap: 512
tags: community-script;media
lxc.cgroup2.devices.allow: a
lxc.cap.drop: 
lxc.cgroup2.devices.allow: c 188:* rwm
lxc.cgroup2.devices.allow: c 189:* rwm
lxc.mount.entry: /dev/serial/by-id  dev/serial/by-id  none bind,optional,create=dir
lxc.mount.entry: /dev/ttyUSB0       dev/ttyUSB0       none bind,optional,create=file
lxc.mount.entry: /dev/ttyUSB1       dev/ttyUSB1       none bind,optional,create=file
lxc.mount.entry: /dev/ttyACM0       dev/ttyACM0       none bind,optional,create=file
lxc.mount.entry: /dev/ttyACM1       dev/ttyACM1       none bind,optional,create=file
lxc.cgroup2.devices.allow: c 226:128 rwm
lxc.mount.entry: /dev/dri/renderD128 dev/dri/renderD128 none bind,optional,create=file
lxc.cgroup2.devices.allow: c 226:0 rwm
lxc.mount.entry: /dev/dri/card0 dev/dri/card0 none bind,optional,create=file
lxc.cgroup2.devices.allow: c 29:0 rwm
lxc.mount.entry: /dev/fb0 dev/fb0 none bind,optional,create=file
lxc.mount.entry: /dev/dri dev/dri none bind,optional,create=dir
lxc.mount.entry: /mnt/lxc-share/data mnt/data none bind 0 0
lxc.cgroup2.devices.allow: c 195:* rwm
lxc.cgroup2.devices.allow: c 235:* rwm
lxc.cgroup2.devices.allow: c 234:* rwm
lxc.cgroup2.devices.allow: c 237:* rwm
lxc.cgroup2.devices.allow: c 238:* rwm
lxc.cgroup2.devices.allow: c 239:* rwm
lxc.cgroup2.devices.allow: c 195:* rwm
lxc.cgroup2.devices.allow: c 511:* rwm
lxc.mount.entry: /dev/nvidia0	              dev/nvidia0 none bind,optional,create=file
lxc.mount.entry: /dev/nvidiactl               dev/nvidiactl none bind,optional,create=file
lxc.mount.entry: /dev/nvidia-uvm              dev/nvidia-uvm none bind,optional,create=file
lxc.mount.entry: /dev/nvidia-modeset          dev/nvidia-modeset none bind,optional,create=file
lxc.mount.entry: /dev/nvidia-uvm-tools        dev/nvidia-uvm-tools none bind,optional,create=file
lxc.mount.entry: /dev/nvidia-caps/nvidia-cap1 dev/nvidia-caps/nvidia-cap1 none bind,optional,create=file
lxc.mount.entry: /dev/nvidia-caps/nvidia-cap2 dev/nvidia-caps/nvidia-cap2 none bind,optional,create=file
lxc.mount.entry: /dev/nvidia-caps             dev/nvidia-caps    none bind,optional,create=dir
lxc.start.delay: 10
lxc.mount.entry: /usr/lib/x86_64-linux-gnu/libcuda.so.*          usr/lib/x86_64-linux-gnu/libcuda.so.          none bind,ro,create=file
lxc.mount.entry: /usr/lib/x86_64-linux-gnu/libnvidia-encode.so.* usr/lib/x86_64-linux-gnu/libnvidia-encode.so. none bind,ro,create=file
lxc.mount.entry: /usr/lib/x86_64-linux-gnu/libnvcuvid.so.*       usr/lib/x86_64-linux-gnu/libnvcuvid.so.       none bind,ro,create=file
lxc.mount.entry: /usr/lib/x86_64-linux-gnu/libnvidia-ml.so.*     usr/lib/x86_64-linux-gnu/libnvidia-ml.so.     none bind,ro,create=file
lxc.mount.entry: /usr/lib/x86_64-linux-gnu/nvidia/current	 usr/lib/x86_64-linux-gnu/nvidia/current       none ro,bind,create=dir
lxc.apparmor.profile: unconfined
lxc.cgroup2.devices.allow: c 195:* rwm
lxc.cgroup2.devices.allow: c 235:* rwm
lxc.cgroup2.devices.allow: c 239:* rwm
lxc.mount.entry: /dev/nvidia0 /dev/nvidia0 none bind,optional,create=file
lxc.mount.entry: /dev/nvidiactl /dev/nvidiactl none bind,optional,create=file
lxc.mount.entry: /dev/nvidia-modeset /dev/nvidia-modeset none bind,optional,create=file
lxc.mount.entry: /dev/nvidia-uvm /dev/nvidia-uvm none bind,optional,create=file
lxc.mount.entry: /dev/nvidia-uvm-tools /dev/nvidia-uvm-tools none bind,optional,create=file
lxc.mount.entry: /dev/nvidia-caps /dev/nvidia-caps none bind,optional,create=dir
lxc.mount.entry: /usr/lib/x86_64-linux-gnu/nvidia/current /usr/lib/x86_64-linux-gnu/nvidia/current none ro,bind,create=dir
lxc.cgroup2.devices.allow: c 195:* rwm
lxc.cgroup2.devices.allow: c 235:* rwm
lxc.cgroup2.devices.allow: c 239:* rwm
lxc.mount.entry: /dev/nvidia0 dev/nvidia0 none bind,optional,create=file
lxc.mount.entry: /dev/nvidiactl dev/nvidiactl none bind,optional,create=file
lxc.mount.entry: /dev/nvidia-modeset dev/nvidia-modeset none bind,optional,create=file
lxc.mount.entry: /dev/nvidia-uvm dev/nvidia-uvm none bind,optional,create=file
lxc.mount.entry: /dev/nvidia-uvm-tools dev/nvidia-uvm-tools none bind,optional,create=file
lxc.mount.entry: /dev/nvidia-caps dev/nvidia-caps none bind,optional,create=dir
lxc.mount.entry: /usr/lib/x86_64-linux-gnu/nvidia/current usr/lib/x86_64-linux-gnu/nvidia/current none ro,bind,create=dir
